# Example pipeline config
#
# Usage:
# - class: <task class name>
#   input_dir: <task input directory>
#   output_dir_name: <task output directory name> (will be created at same level as input directory)
#   params:
#     <name 1>: <value>
#     <name 2>: <value>

input_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/input"

tasks:

  - class: DecompressDicomFilesTask
    input_dir:
    output_dir_name: "decompressdicomfilestask"
    params:

  - class: RescaleDicomFilesTask
    input_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/decompressdicomfilestask"
    output_dir_name: "rescaledicomfilestask"
    params:
      target_size: 512

  - class: MuscleFatSegmentationTask
    input_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/rescaledicomfilestask"
    output_dir_name: "musclefatsegmentationtask"
    params:
      model_dir: "/Users/ralph/Desktop/downloads/pytorchmodelfiles"

  - class: CreatePngsFromSegmentationsTask
    input_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/musclefatsegmentationtask"
    output_dir_name: "createpngsfromsegmentationstask"
    params:
      fig_width: 10
      fig_height: 10

  - class: CalculateMetricsTask
    input_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/musclefatsegmentationtask"
    output_dir_name: "calculatemetricstask"
    params:
      image_dir: "/Users/ralph/Desktop/downloads/mosamaticdesktop/rescaledicomfilestask"